!function(t){t.jqplot.CategoryAxisRenderer=function(e){t.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},t.jqplot.CategoryAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.constructor=t.jqplot.CategoryAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.init=function(e){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,this.reverse=!1,t.extend(!0,this,{tickOptions:{formatString:"%d"}},e);for(var s=this._dataBounds,i=0;i<this._series.length;i++){var h=this._series[i];h.groups&&(this.groups=h.groups);for(var r=h.data,a=0;a<r.length;a++)"xaxis"==this.name||"x2axis"==this.name?((r[a][0]<s.min||null==s.min)&&(s.min=r[a][0]),(r[a][0]>s.max||null==s.max)&&(s.max=r[a][0])):((r[a][1]<s.min||null==s.min)&&(s.min=r[a][1]),(r[a][1]>s.max||null==s.max)&&(s.max=r[a][1]))}this.groupLabels.length&&(this.groups=this.groupLabels.length)},t.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){this._ticks;var e,s,i=this.ticks,h=this.name;this._dataBounds;if(i.length){if(this.groups>1&&!this._grouped){for(var r=i.length,a=0,n=f=parseInt(r/this.groups,10);n<r;n+=f)i.splice(n+a,0," "),a++;this._grouped=!0}this.min=.5,this.max=i.length+.5;var l=this.max-this.min;for(this.numberTicks=2*i.length+1,n=0;n<i.length;n++){s=this.min+2*n*l/(this.numberTicks-1),(k=new this.tickRenderer(this.tickOptions)).showLabel=!1,k.setTick(s,this.name),this._ticks.push(k),(k=new this.tickRenderer(this.tickOptions)).label=i[n],k.showMark=!1,k.showGridline=!1,k.setTick(s+.5,this.name),this._ticks.push(k)}(k=new this.tickRenderer(this.tickOptions)).showLabel=!1,k.setTick(s+1,this.name),this._ticks.push(k)}else{e="xaxis"==h||"x2axis"==h?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.min&&null!=this.max&&null!=this.tickInterval&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);var o,p,u=[],_=0,c=!1;for(n=0;n<this._series.length;n++)for(var m=this._series[n],x=0;x<m.data.length;x++)p="xaxis"==this.name||"x2axis"==this.name?m.data[x][0]:m.data[x][1],-1==t.inArray(p,u)&&(c=!0,_+=1,u.push(p));c&&this.sortMergedLabels&&("string"==typeof u[0]?u.sort():u.sort(function(t,e){return t-e})),this.ticks=u;for(n=0;n<this._series.length;n++)for(m=this._series[n],x=0;x<m.data.length;x++){p="xaxis"==this.name||"x2axis"==this.name?m.data[x][0]:m.data[x][1];var g=t.inArray(p,u)+1;"xaxis"==this.name||"x2axis"==this.name?m.data[x][0]=g:m.data[x][1]=g}if(this.groups>1&&!this._grouped){for(r=u.length,a=0,n=f=parseInt(r/this.groups,10);n<r;n+=f+1)u[n]=" ";this._grouped=!0}o=_+.5,null==this.numberTicks&&(this.numberTicks=2*_+1);l=o-.5;this.min=.5,this.max=o;var d=0,b=parseInt(3+e/10,10),f=parseInt(_/b,10);null==this.tickInterval&&(this.tickInterval=l/(this.numberTicks-1));for(n=0;n<this.numberTicks;n++){s=this.min+n*this.tickInterval;var k=new this.tickRenderer(this.tickOptions);n/2==parseInt(n/2,10)?(k.showLabel=!1,k.showMark=!0):(f>0&&d<f?(k.showLabel=!1,d+=1):(k.showLabel=!0,d=0),k.label=k.formatter(k.formatString,u[(n-1)/2]),k.showMark=!1,k.showGridline=!1),k.setTick(s,this.name),this._ticks.push(k)}}},t.jqplot.CategoryAxisRenderer.prototype.draw=function(e,s){if(this.show){this.renderer.createTicks.call(this);if(this._elem&&this._elem.emptyForce(),this._elem=this._elem||t('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show)(a=this._label.draw(e,s)).appendTo(this._elem);for(var i=this._ticks,h=0;h<i.length;h++){var r=i[h];if(r.showLabel&&(!r.isMinorTick||this.showMinorTicks))(a=r.draw(e,s)).appendTo(this._elem)}this._groupLabels=[];for(h=0;h<this.groupLabels.length;h++){var a;(a=t('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>')).html(this.groupLabels[h]),this._groupLabels.push(a),a.appendTo(this._elem)}}return this._elem},t.jqplot.CategoryAxisRenderer.prototype.set=function(){var e,s=0,i=0,h=0,r=null!=this._label&&this._label.show;if(this.show){for(var a=this._ticks,n=0;n<a.length;n++){var l=a[n];!l.showLabel||l.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?l._elem.outerHeight(!0):l._elem.outerWidth(!0))>s&&(s=e)}var o=0;for(n=0;n<this._groupLabels.length;n++){var p=this._groupLabels[n];(e="xaxis"==this.name||"x2axis"==this.name?p.outerHeight(!0):p.outerWidth(!0))>o&&(o=e)}r&&(i=this._label._elem.outerWidth(!0),h=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(s+=o+i,this._elem.css({width:s+"px",left:"0px",top:"0px"}),r&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px")):(s+=o+i,this._elem.css({width:s+"px",right:"0px",top:"0px"}),r&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px"))}},t.jqplot.CategoryAxisRenderer.prototype.pack=function(e,s){var i,h=this._ticks,r=this.max,a=this.min,n=s.max,l=s.min,o=null!=this._label&&this._label.show;for(var p in e)this._elem.css(p,e[p]);this._offsets=s;var u=n-l,_=r-a;if(this.reverse?(this.u2p=function(t){return l+(r-t)*u/_},this.p2u=function(t){return a+(t-l)*_/u},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(r-t)*u/_},this.series_p2u=function(t){return t*_/u+r}):(this.series_u2p=function(t){return(a-t)*u/_},this.series_p2u=function(t){return t*_/u+a})):(this.u2p=function(t){return(t-a)*u/_+l},this.p2u=function(t){return(t-l)*_/u+a},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-a)*u/_},this.series_p2u=function(t){return t*_/u+a}):(this.series_u2p=function(t){return(t-r)*u/_},this.series_p2u=function(t){return t*_/u+r})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(i=0;i<h.length;i++){if((R=h[i]).show&&R.showLabel){if(R.constructor==t.jqplot.CanvasAxisTickRenderer&&R.angle){var c="xaxis"==this.name?1:-1;switch(R.labelPosition){case"auto":v=c*R.angle<0?-R.getWidth()+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2:-R._textRenderer.height*Math.sin(R._textRenderer.angle)/2;break;case"end":v=-R.getWidth()+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2;break;case"start":v=-R._textRenderer.height*Math.sin(R._textRenderer.angle)/2;break;case"middle":default:v=-R.getWidth()/2+R._textRenderer.height*Math.sin(-R._textRenderer.angle)/2}}else v=-R.getWidth()/2;var m=this.u2p(R.value)+v+"px";R._elem.css("left",m),R.pack()}}var x=["bottom",0];if(o){var g=this._label._elem.outerWidth(!0);this._label._elem.css("left",l+u/2-g/2+"px"),"xaxis"==this.name?(this._label._elem.css("bottom","0px"),x=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),x=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var d=parseInt(this._ticks.length/this.groups,10)+1;for(i=0;i<this._groupLabels.length;i++){for(var b=0,f=0,k=i*d;k<(i+1)*d;k++){if(!(k>=this._ticks.length-1))if(this._ticks[k]._elem&&" "!=this._ticks[k].label)b+=(p=(R=this._ticks[k]._elem).position()).left+R.outerWidth(!0)/2,f++}b/=f,this._groupLabels[i].css({left:b-this._groupLabels[i].outerWidth(!0)/2}),this._groupLabels[i].css(x[0],x[1])}}else{for(i=0;i<h.length;i++){if((R=h[i]).show&&R.showLabel){var v;if(R.constructor==t.jqplot.CanvasAxisTickRenderer&&R.angle){c="yaxis"==this.name?1:-1;switch(R.labelPosition){case"auto":case"end":v=c*R.angle<0?-R._textRenderer.height*Math.cos(-R._textRenderer.angle)/2:-R.getHeight()+R._textRenderer.height*Math.cos(R._textRenderer.angle)/2;break;case"start":v=R.angle>0?-R._textRenderer.height*Math.cos(-R._textRenderer.angle)/2:-R.getHeight()+R._textRenderer.height*Math.cos(R._textRenderer.angle)/2;break;case"middle":default:v=-R.getHeight()/2}}else v=-R.getHeight()/2;m=this.u2p(R.value)+v+"px";R._elem.css("top",m),R.pack()}}x=["left",0];if(o){var w=this._label._elem.outerHeight(!0);this._label._elem.css("top",n-u/2-w/2+"px"),"yaxis"==this.name?(this._label._elem.css("left","0px"),x=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),x=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}d=parseInt(this._ticks.length/this.groups,10)+1;for(i=0;i<this._groupLabels.length;i++){for(b=0,f=0,k=i*d;k<(i+1)*d;k++){var R;if(!(k>=this._ticks.length-1))if(this._ticks[k]._elem&&" "!=this._ticks[k].label)b+=(p=(R=this._ticks[k]._elem).position()).top+R.outerHeight()/2,f++}b/=f,this._groupLabels[i].css({top:b-this._groupLabels[i].outerHeight()/2}),this._groupLabels[i].css(x[0],x[1])}}}}(jQuery);