!function(R){R.jqplot.DateAxisRenderer=function(){R.jqplot.LinearAxisRenderer.call(this),this.date=new R.jsDate};var t=1e3,i=6e4,e=36e5,O=24*e,s=7*O,A=30.4368499*O,L=365.242199*O,N=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],z=[100,200,500,t,2e3,5e3,1e4,15e3,3e4,i,2*i,3e5,6e5,9e5,18e5,e,2*e,4*e,6*e,8*e,12*e,O,2*O,3*O,4*O,5*O,s,2*s];R.jqplot.DateAxisRenderer.prototype=new R.jqplot.LinearAxisRenderer,R.jqplot.DateAxisRenderer.prototype.constructor=R.jqplot.DateAxisRenderer,R.jqplot.DateTickFormatter=function(t,i){return t=t||"%Y/%m/%d",R.jsDate.strftime(i,t)},R.jqplot.DateAxisRenderer.prototype.init=function(t){this.tickOptions.formatter=R.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,R.extend(!0,this,t);for(var i,e,s,n,a,r,h,l=this._dataBounds,m=0;m<this._series.length;m++){i={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},e=0,n=(s=this._series[m]).data,a=s._plotData,r=s._stackData;for(var o=h=0;o<n.length;o++)"xaxis"==this.name||"x2axis"==this.name?(n[o][0]=new R.jsDate(n[o][0]).getTime(),a[o][0]=new R.jsDate(n[o][0]).getTime(),r[o][0]=new R.jsDate(n[o][0]).getTime(),(null!=n[o][0]&&n[o][0]<l.min||null==l.min)&&(l.min=n[o][0]),(null!=n[o][0]&&n[o][0]>l.max||null==l.max)&&(l.max=n[o][0]),0<o&&(h=Math.abs(n[o][0]-n[o-1][0]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1),e+=h):(n[o][1]=new R.jsDate(n[o][1]).getTime(),a[o][1]=new R.jsDate(n[o][1]).getTime(),r[o][1]=new R.jsDate(n[o][1]).getTime(),(null!=n[o][1]&&n[o][1]<l.min||null==l.min)&&(l.min=n[o][1]),(null!=n[o][1]&&n[o][1]>l.max||null==l.max)&&(l.max=n[o][1]),0<o&&(h=Math.abs(n[o][1]-n[o-1][1]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1)),e+=h;if(s.renderer.bands){if(s.renderer.bands.hiData.length)for(var o=0,c=(u=s.renderer.bands.hiData).length;o<c;o++)"xaxis"===this.name||"x2axis"===this.name?(u[o][0]=new R.jsDate(u[o][0]).getTime(),(null!=u[o][0]&&u[o][0]>l.max||null==l.max)&&(l.max=u[o][0])):(u[o][1]=new R.jsDate(u[o][1]).getTime(),(null!=u[o][1]&&u[o][1]>l.max||null==l.max)&&(l.max=u[o][1]));if(s.renderer.bands.lowData.length)for(var u,o=0,c=(u=s.renderer.bands.lowData).length;o<c;o++)"xaxis"===this.name||"x2axis"===this.name?(u[o][0]=new R.jsDate(u[o][0]).getTime(),(null!=u[o][0]&&u[o][0]<l.min||null==l.min)&&(l.min=u[o][0])):(u[o][1]=new R.jsDate(u[o][1]).getTime(),(null!=u[o][1]&&u[o][1]<l.min||null==l.min)&&(l.min=u[o][1]))}for(var k in i.frequencies)i.sortedIntervals.push({interval:k,frequency:i.frequencies[k]});i.sortedIntervals.sort(function(t,i){return i.frequency-t.frequency}),i.min=R.jqplot.arrayMin(i.intervals),i.max=R.jqplot.arrayMax(i.intervals),i.mean=e/n.length,this._intervalStats.push(i),i=e=s=n=a=r=null}l=null},R.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},R.jqplot.DateAxisRenderer.prototype.createTicks=function(t){this._ticks;var i,e,s=this.ticks,n=this.name,a=this._dataBounds,r=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),h=1,l=null;null!=this.tickInterval&&(Number(this.tickInterval)?l=[Number(this.tickInterval),"seconds"]:"string"==typeof this.tickInterval&&(1==(e=this.tickInterval.split(" ")).length?l=[1,e[0]]:2==e.length&&(l=[e[0],e[1]])));this.tickInterval;y=new R.jsDate(null!=this.min?this.min:a.min).getTime(),i=new R.jsDate(null!=this.max?this.max:a.max).getTime();var m=t.plugins.cursor;m&&m._zoom&&m._zoom.zooming&&(this.min=null,this.max=null);var o=i-y;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),s.length){for(d=0;d<s.length;d++){var c=s[d],u=new this.tickRenderer(this.tickOptions);c.constructor==Array?(u.value=new R.jsDate(c[0]).getTime(),u.label=c[1]):u.value=new R.jsDate(c).getTime(),this.showTicks?this.showTickMarks||(u.showMark=!1):(u.showLabel=!1,u.showMark=!1),u.setTick(u.value,this.name),this._ticks.push(u)}this.numberTicks=s.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&a.min==a.max){var k=R.extend(!0,{},this.tickOptions,{name:this.name,value:null});this.min=a.min-3e5,this.max=a.max+3e5,this.numberTicks=3;for(var d=this.min;d<=this.max;d+=3e5){k.value=d;u=new this.tickRenderer(k);this._overrideFormatString&&""!=this._autoFormatString&&(u.formatString=this._autoFormatString),u.showLabel=!1,u.showMark=!1,this._ticks.push(u)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var v,T,g,x,w=R.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks?this.tickInterval?v=new R.jsDate(0).add(l[0],l[1]).getTime():this.numberTicks&&(v=(i-y)/((j=this.numberTicks)-1)):(T=Math.max(r,31),g=115,this.tickRenderer===R.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(g=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),v=(i-y)/((j=Math.ceil((T-30)/g+1))-1)),v<=19*O){var p=function(t){for(var i,e,s,n=Number.MAX_VALUE,a=0,r=z.length;a<r;a++)(i=Math.abs(t-z[a]))<n&&(n=i,e=z[a],s=N[a]);return[e,s]}(v),M=p[0];this._autoFormatString=p[1],y=new R.jsDate(y),y=Math.floor((y.getTime()-y.getUtcOffset())/M)*M+y.getUtcOffset(),j=Math.ceil((i-y)/M)+1,this.min=y,this.max=y+(j-1)*M,this.max<i&&(this.max+=M,j+=1),this.tickInterval=M,this.numberTicks=j;for(d=0;d<j;d++)w.value=this.min+d*M,u=new this.tickRenderer(w),this._overrideFormatString&&""!=this._autoFormatString&&(u.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(u.showMark=!1):(u.showLabel=!1,u.showMark=!1),this._ticks.push(u);h=this.tickInterval}else if(v<=9*A){this._autoFormatString="%v",(x=Math.round(v/A))<1?x=1:6<x&&(x=6);var f=new R.jsDate(y).setDate(1).setHours(0,0,0,0),_=new R.jsDate(i),D=new R.jsDate(i).setDate(1).setHours(0,0,0,0);_.getTime()!==D.getTime()&&(D=D.add(1,"month"));var b=D.diff(f,"month"),j=Math.ceil(b/x)+1;this.min=f.getTime(),this.max=f.clone().add((j-1)*x,"month").getTime(),this.numberTicks=j;for(d=0;d<j;d++)w.value=0===d?f.getTime():f.add(x,"month").getTime(),u=new this.tickRenderer(w),this._overrideFormatString&&""!=this._autoFormatString&&(u.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(u.showMark=!1):(u.showLabel=!1,u.showMark=!1),this._ticks.push(u);h=x*A}else{this._autoFormatString="%v",(x=Math.round(v/L))<1&&(x=1);var f=new R.jsDate(y).setMonth(0,1).setHours(0,0,0,0),I=(D=new R.jsDate(i).add(1,"year").setMonth(0,1).setHours(0,0,0,0)).diff(f,"year");j=Math.ceil(I/x)+1,this.min=f.getTime(),this.max=f.clone().add((j-1)*x,"year").getTime(),this.numberTicks=j;for(d=0;d<j;d++)w.value=0===d?f.getTime():f.add(x,"year").getTime(),u=new this.tickRenderer(w),this._overrideFormatString&&""!=this._autoFormatString&&(u.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(u.showMark=!1):(u.showLabel=!1,u.showMark=!1),this._ticks.push(u);h=x*L}}else{r="xaxis"==n||"x2axis"==n?this._plotDimensions.width:this._plotDimensions.height;null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=l&&(this.daTickInterval=l),y==i&&(y-=432e5,i+=432e5),o=i-y;parseInt(Math.max(0,r-100)/100,10);var S,q=null!=this.min?new R.jsDate(this.min).getTime():y-o/2*(this.padMin-1),F=null!=this.max?new R.jsDate(this.max).getTime():i+o/2*(this.padMax-1);this.min=q,this.max=F,o=this.max-this.min,null==this.numberTicks&&(null!=this.daTickInterval?(S=new R.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0),this.numberTicks=Math.ceil(S/this.daTickInterval[0])+1,this.max=new R.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()):this.numberTicks=200<r?parseInt(3+(r-200)/100,10):2),h=o/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[h,"seconds"]);for(d=0;d<this.numberTicks;d++){var y,H=(y=new R.jsDate(this.min)).add(d*this.daTickInterval[0],this.daTickInterval[1]).getTime(),u=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(u.showMark=!1):(u.showLabel=!1,u.showMark=!1),u.setTick(H,this.name),this._ticks.push(u)}}this.tickInset&&(this.min=this.min-this.tickInset*h,this.max=this.max+this.tickInset*h),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}}(jQuery);